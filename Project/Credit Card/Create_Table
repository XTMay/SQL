
CREATE TABLE categories (
    category    TEXT PRIMARY KEY,
    description TEXT
);


CREATE TABLE cities (
    city       TEXT,
    state_code CHAR (2),
    city_pop   INT,
    lat        FLOAT,
    long       FLOAT
);


CREATE TABLE customers (
    cc_num   BIGINT   PRIMARY KEY,
    first    TEXT,
    last     TEXT,
    gender   CHAR (1),
    dob      DATE,
    job      TEXT,
    street   TEXT,
    city     TEXT,
    state    CHAR (2),
    zip      INT,
    lat      FLOAT,
    long     FLOAT,
    city_pop INT
);

CREATE TABLE merchants (
    merchant_id   INTEGER PRIMARY KEY AUTOINCREMENT,
    merchant_name TEXT    UNIQUE,
    category      TEXT,
    merch_lat     FLOAT,
    merch_long    FLOAT
);

CREATE TABLE states (
    state_code CHAR (2) PRIMARY KEY,
    state_name TEXT
);

CREATE TABLE transactions (
    trans_num   TEXT     PRIMARY KEY,
    cc_num      BIGINT,
    merchant_id INT,
    trans_date  DATETIME,
    unix_time   BIGINT,
    amt         FLOAT,
    is_fraud    BOOLEAN,
    FOREIGN KEY (
        cc_num
    )
    REFERENCES customers (cc_num),
    FOREIGN KEY (
        merchant_id
    )
    REFERENCES merchants (merchant_id) 
);

